'''
Other parameters which fit a good model as well
beta, gamma, delta = 0.205, 1./11, 0.0055 dRdt=0.5*gamma*I
'''
def ret():
    import urllib.request, json 
    with urllib.request.urlopen("https://api.covid19india.org/data.json") as url:
        data = json.loads(url.read().decode())
        
    data=data['cases_time_series']

    dataval=[]
    for row in data:
        dataval.append(list(row.values()))
    import pandas as pd
    df=pd.DataFrame(dataval,columns=list(data[0].keys()))
    DaysElapsed=len(df)
    '''import numpy as np
    from scipy.integrate import odeint
    import math
    import datetime

    # Total population, N.
    N = 1.3e9
    # Initial number of infected, recovered and dead individuals, I0, R0 and D0.
    I0, R0, D0 = 1, 0, 0
    # Everyone else, S0, is susceptible to infection initially.
    S0 = N - I0 - R0 -D0
    # Contact rate(beta), mean recovery rate(gamma) (in 1/days) and death rate(alpha)
    beta, gamma, delta = 0.215, 1./20, 0.0035
    #No. of days later (predicted)
    Days=450
    stdate=np.datetime64('2020-01-30')
    enddate=datetime.datetime.utcnow().date()
    t=np.arange(stdate,stdate+Days)
    # A grid of time points (in days)
    t1 = np.linspace(0, Days, Days)

    # The SIR model differential equations.
    def deriv(y, t, N, beta, gamma, delta):
        S, I, R, D = y
        if t<=91:
            dSdt = -beta * math.exp(-t**1.05/200)* S * I / N
            dIdt = beta * math.exp(-t**1.05/200) *S * I / N - gamma * I - delta*I
        elif t>91 and t<=131:
            dSdt = -beta * math.exp(-t**1.08/200)* S * I / N
            dIdt = beta * math.exp(-t**1.08/200) *S * I / N - gamma * I - delta*I
        else:
            dSdt = -beta * math.exp(-t/350)* S * I / N
            dIdt = beta * math.exp(-t/350) *S * I / N - gamma * I - delta*I
        dRdt = 0.6*gamma*I
        dDdt = delta * I
        return dSdt, dIdt, dRdt, dDdt

    # Initial conditions vector
    y0 = S0, I0, R0, D0
    # Integrate the SIR equations over the time grid, t.
    ret = odeint(deriv, y0, t1, args=(N, beta, gamma, delta))
    S, I, R, D = ret.T'''

    I=list(map(int,[1.00000000e+00, 1.17507717e+00, 1.37925769e+00, 1.61703879e+00, 1.89357990e+00, 2.21477890e+00, 2.58736560e+00, 3.01900692e+00, 
       3.51842478e+00, 4.09552740e+00, 4.76155474e+00, 5.52923978e+00, 6.41298703e+00, 7.42906954e+00, 8.59584606e+00, 9.93400027e+00,
       1.14668034e+01, 1.32204023e+01, 1.52241356e+01, 1.75108782e+01, 2.01174189e+01, 2.30848705e+01, 2.64591170e+01, 3.02912991e+01,
       3.46383408e+01, 3.95635193e+01, 4.51370816e+01, 5.14369089e+01, 5.85492336e+01, 6.65694094e+01, 7.56027383e+01, 8.57653572e+01,
       9.71851866e+01, 1.10002943e+02, 1.24373219e+02, 1.40465634e+02, 1.58466052e+02, 1.78577880e+02, 2.01023436e+02, 2.26045397e+02,
       2.53908327e+02, 2.84900283e+02, 3.19334500e+02, 3.57551165e+02, 3.99919265e+02, 4.46838518e+02, 4.98741390e+02, 5.56095184e+02,
       6.19404213e+02, 6.89212044e+02, 7.66103823e+02, 8.50708657e+02, 9.43702073e+02, 1.04580853e+03, 1.15780400e+03, 1.28051857e+03,
       1.41483911e+03, 1.56171199e+03, 1.72214577e+03, 1.89721397e+03, 2.08805777e+03, 2.29588882e+03, 2.52199191e+03, 2.76772767e+03,
       3.03453528e+03, 3.32393500e+03, 3.63753074e+03, 3.97701251e+03, 4.34415874e+03, 4.74083851e+03, 5.16901364e+03, 5.63074065e+03,
       6.12817248e+03, 6.66356008e+03, 7.23925379e+03, 7.85770446e+03, 8.52146434e+03, 9.23318768e+03, 9.99563113e+03, 1.08116537e+04,
       1.16842165e+04, 1.26163820e+04, 1.36113134e+04, 1.46722728e+04, 1.58026195e+04, 1.70058083e+04, 1.82853863e+04, 1.96449903e+04,
       2.10883430e+04, 2.26192492e+04, 2.42415917e+04, 2.59086215e+04, 2.74543824e+04, 2.90672407e+04, 3.07484532e+04, 3.24991980e+04,
       3.43205685e+04, 3.62135672e+04, 3.81790990e+04, 4.02179654e+04, 4.23308586e+04, 4.45183554e+04, 4.67809119e+04, 4.91188577e+04,
       5.15323912e+04, 5.40215744e+04, 5.65863284e+04, 5.92264292e+04, 6.19415037e+04, 6.47310263e+04, 6.75943158e+04, 7.05305323e+04,
       7.35386754e+04, 7.66175822e+04, 7.97659259e+04, 8.29822149e+04, 8.62647924e+04, 8.96118368e+04, 9.30213618e+04, 9.64912178e+04,
       1.00019094e+05, 1.03602519e+05, 1.07238866e+05, 1.10925354e+05, 1.14659052e+05, 1.18436884e+05, 1.22255632e+05, 1.26111943e+05,
       1.30002333e+05, 1.33923196e+05, 1.37870806e+05, 1.44606614e+05, 1.58892306e+05, 1.74515034e+05, 1.91592503e+05, 2.10252068e+05,
       2.30631458e+05, 2.52879546e+05, 2.77157171e+05, 3.03638028e+05, 3.32509592e+05, 3.63974119e+05, 3.98249692e+05, 4.35571358e+05,
       4.76192309e+05, 5.20385150e+05, 5.68443240e+05, 6.20682105e+05, 6.77440936e+05, 7.39084176e+05, 8.06003192e+05, 8.78618032e+05,
       9.57379285e+05, 1.04277003e+06, 1.13530788e+06, 1.23554715e+06, 1.34408108e+06, 1.46154422e+06, 1.58861486e+06, 1.72601764e+06,
       1.87452614e+06, 2.03496571e+06, 2.20821631e+06, 2.39521547e+06, 2.59696132e+06, 2.81451577e+06, 3.04900763e+06, 3.30163593e+06,
       3.57367325e+06, 3.86646897e+06, 4.18145275e+06, 4.52013778e+06, 4.88412417e+06, 5.27510216e+06, 5.69485531e+06, 6.14526352e+06,
       6.62830585e+06, 7.14606326e+06, 7.70072078e+06, 8.29456968e+06, 8.93000899e+06, 9.60954660e+06, 1.03357999e+07, 1.11114955e+07,
       1.19394686e+07, 1.28226611e+07, 1.37641188e+07, 1.47669881e+07, 1.58345102e+07, 1.69700155e+07, 1.81769153e+07, 1.94586922e+07,
       2.08188890e+07, 2.22610953e+07, 2.37889322e+07, 2.54060344e+07, 2.71160308e+07, 2.89225211e+07, 3.08290514e+07, 3.28390862e+07,
       3.49559774e+07, 3.71829313e+07, 3.95229725e+07, 4.19789044e+07, 4.45532686e+07, 4.72482998e+07, 5.00658808e+07, 5.30074936e+07,
       5.60741704e+07, 5.92664431e+07, 6.25842914e+07, 6.60270940e+07, 6.95935766e+07, 7.32817657e+07, 7.70889422e+07, 8.10116000e+07,
       8.50454098e+07, 8.91851858e+07, 9.34248634e+07, 9.77574806e+07, 1.02175171e+08, 1.06669164e+08, 1.11229799e+08, 1.15846545e+08,
       1.20508040e+08, 1.25202132e+08, 1.29915943e+08, 1.34635934e+08, 1.39347991e+08, 1.44037516e+08, 1.48689526e+08, 1.53288763e+08,
       1.57819818e+08, 1.62267246e+08, 1.66615695e+08, 1.70850034e+08, 1.74955478e+08, 1.78917714e+08, 1.82723020e+08, 1.86358380e+08,
       1.89811587e+08, 1.93071343e+08, 1.96127337e+08, 1.98970324e+08, 2.01592177e+08, 2.03985941e+08, 2.06145857e+08, 2.08067381e+08,
       2.09747193e+08, 2.11183181e+08, 2.12374425e+08, 2.13321161e+08, 2.14024737e+08, 2.14487564e+08, 2.14713053e+08, 2.14705552e+08,
       2.14470266e+08, 2.14013193e+08, 2.13341034e+08, 2.12461121e+08, 2.11381332e+08, 2.10110016e+08, 2.08655910e+08, 2.07028068e+08,
       2.05235786e+08, 2.03288533e+08, 2.01195886e+08, 1.98967472e+08, 1.96612909e+08, 1.94141754e+08, 1.91563460e+08, 1.88887330e+08,
       1.86122486e+08, 1.83277827e+08, 1.80362011e+08, 1.77383424e+08, 1.74350163e+08, 1.71270018e+08, 1.68150465e+08, 1.64998648e+08,
       1.61821375e+08, 1.58625121e+08, 1.55416017e+08, 1.52199853e+08, 1.48982088e+08, 1.45767843e+08, 1.42561914e+08, 1.39368778e+08,
       1.36192598e+08, 1.33037236e+08, 1.29906258e+08, 1.26802948e+08, 1.23730319e+08, 1.20691119e+08, 1.17687848e+08, 1.14722766e+08,
       1.11797906e+08, 1.08915082e+08, 1.06075906e+08, 1.03281794e+08, 1.00533978e+08, 9.78335190e+07, 9.51813144e+07, 9.25781097e+07,
       9.00245072e+07, 8.75209765e+07, 8.50678632e+07, 8.26653966e+07, 8.03136988e+07, 7.80127932e+07, 7.57626114e+07, 7.35629997e+07,
       7.14137271e+07, 6.93144918e+07, 6.72649269e+07, 6.52646055e+07, 6.33130478e+07, 6.14097253e+07, 5.95540658e+07, 5.77454577e+07,
       5.59832549e+07, 5.42667807e+07, 5.25953311e+07, 5.09681786e+07, 4.93845755e+07, 4.78437573e+07, 4.63449446e+07, 4.48873467e+07,
       4.34701635e+07, 4.20925880e+07, 4.07538081e+07, 3.94530088e+07, 3.81893742e+07, 3.69620882e+07, 3.57703371e+07, 3.46133103e+07,
       3.34902014e+07, 3.24002102e+07, 3.13425425e+07, 3.03164121e+07, 2.93210411e+07, 2.83556605e+07, 2.74195113e+07, 2.65118449e+07,
       2.56319234e+07, 2.47790204e+07, 2.39524211e+07, 2.31514229e+07, 2.23753355e+07, 2.16234811e+07, 2.08951949e+07, 2.01898247e+07,
       1.95067315e+07, 1.88452897e+07, 1.82048863e+07, 1.75849219e+07, 1.69848102e+07, 1.64039780e+07, 1.58418650e+07, 1.52979243e+07,
       1.47716216e+07, 1.42624355e+07, 1.37698573e+07, 1.32933908e+07, 1.28325523e+07, 1.23868702e+07, 1.19558850e+07, 1.15391492e+07,
       1.11362268e+07, 1.07466934e+07, 1.03701360e+07, 1.00061526e+07, 9.65435211e+06, 9.31435426e+06, 8.98578916e+06, 8.66829723e+06,
       8.36152896e+06, 8.06514471e+06, 7.77881449e+06, 7.50221772e+06, 7.23504305e+06, 6.97698816e+06, 6.72775951e+06, 6.48707215e+06,
       6.25464954e+06, 6.03022330e+06, 5.81353306e+06, 5.60432620e+06, 5.40235772e+06, 5.20739000e+06, 5.01919261e+06, 4.83754215e+06,
       4.66222205e+06, 4.49302239e+06, 4.32973970e+06, 4.17217685e+06, 4.02014278e+06, 3.87345243e+06, 3.73192652e+06, 3.59539137e+06,
       3.46367881e+06, 3.33662598e+06, 3.21407517e+06, 3.09587369e+06, 2.98187374e+06, 2.87193225e+06, 2.76591072e+06, 2.66367513e+06,
       2.56509580e+06, 2.47004723e+06, 2.37840800e+06, 2.29006065e+06, 2.20489156e+06, 2.12279081e+06, 2.04365212e+06, 1.96737267e+06,
       1.89385307e+06, 1.82299719e+06, 1.75471208e+06, 1.68890792e+06, 1.62549783e+06, 1.56439787e+06, 1.50552688e+06, 1.44880644e+06,
       1.39416076e+06, 1.34151660e+06, 1.29080319e+06, 1.24195215e+06, 1.19489744e+06, 1.14957523e+06, 1.10592388e+06, 1.06388384e+06,
       1.02339762e+06, 9.84409676e+05, 9.46866364e+05, 9.10715897e+05, 8.75908265e+05, 8.42395182e+05, 8.10130033e+05, 7.79067813e+05,
       7.49165080e+05, 7.20379900e+05, 6.92671800e+05, 6.66001713e+05, 6.40331941e+05, 6.15626103e+05, 5.91849094e+05, 5.68967037e+05,
       5.46947250e+05, 5.25758200e+05]))
    R=list(map(int,[0.00000000e+00, 3.26310460e-02, 7.09531476e-02, 1.15907377e-01, 1.68579804e-01, 2.30222510e-01, 3.02277203e-01, 3.86401716e-01,
       4.84499933e-01, 5.98755499e-01, 7.31669593e-01, 8.86103359e-01, 1.06532544e+00, 1.27306516e+00, 1.51357189e+00, 1.79168132e+00,
       2.11288925e+00, 2.48343364e+00, 2.91038577e+00, 3.40175128e+00, 3.96658211e+00, 4.61510027e+00, 5.35883445e+00, 6.21077068e+00,
       7.18551819e+00, 8.29949179e+00, 9.57111199e+00, 1.10210244e+01, 1.26723401e+01, 1.45508978e+01, 1.66855509e+01, 1.91084791e+01,
       2.18555290e+01, 2.49665830e+01, 2.84859602e+01, 3.24628506e+01, 3.69517853e+01, 4.20131443e+01, 4.77137039e+01, 5.41272273e+01,
       6.13350993e+01, 6.94270083e+01, 7.85016778e+01, 8.86676501e+01, 1.00044124e+02, 1.12761849e+02, 1.26964082e+02, 1.42807598e+02,
       1.60463776e+02, 1.80119741e+02, 2.01979581e+02, 2.26265632e+02, 2.53219837e+02, 2.83105179e+02, 3.16207192e+02, 3.52835548e+02,
       3.93325721e+02, 4.38040742e+02, 4.87373022e+02, 5.41746266e+02, 6.01617469e+02, 6.67478986e+02, 7.39860700e+02, 8.19332253e+02,
       9.06505373e+02, 1.00203627e+03, 1.10662812e+03, 1.22103361e+03, 1.34605755e+03, 1.48255960e+03, 1.63145700e+03, 1.79372739e+03,
       1.97041169e+03, 2.16261702e+03, 2.37151967e+03, 2.59836812e+03, 2.84448603e+03, 3.11127537e+03, 3.40021942e+03, 3.71288590e+03,
       4.05093003e+03, 4.41609757e+03, 4.81022790e+03, 5.23525697e+03, 5.69322030e+03, 6.18625585e+03, 6.71660685e+03, 7.28662452e+03,
       7.89877075e+03, 8.55562059e+03, 9.25986469e+03, 1.00141581e+04, 1.08162194e+04, 1.16657622e+04, 1.25648232e+04, 1.35154753e+04,
       1.45198258e+04, 1.55800135e+04, 1.66982060e+04, 1.78765964e+04, 1.91174002e+04, 2.04228523e+04, 2.17952029e+04, 2.32367140e+04,
       2.47496557e+04, 2.63363020e+04, 2.79989266e+04, 2.97397986e+04, 3.15611782e+04, 3.34653123e+04, 3.54544293e+04, 3.75307349e+04,
       3.96964072e+04, 4.19535917e+04, 4.43043965e+04, 4.67508874e+04, 4.92950827e+04, 5.19389486e+04, 5.46843940e+04, 5.75332655e+04,
       6.04873428e+04, 6.35483335e+04, 6.67178688e+04, 6.99974984e+04, 7.33886863e+04, 7.68928059e+04, 8.05111362e+04, 8.42448574e+04,
       8.80950467e+04, 9.20626751e+04, 9.61486028e+04, 1.00365610e+05, 1.04925024e+05, 1.09933779e+05, 1.15433823e+05, 1.21470784e+05,
       1.28094276e+05, 1.35358218e+05, 1.43321179e+05, 1.52046760e+05, 1.61603990e+05, 1.72067752e+05, 1.83519243e+05, 1.96046474e+05,
       2.09744791e+05, 2.24717439e+05, 2.41076171e+05, 2.58941889e+05, 2.78445332e+05, 2.99727815e+05, 3.22942011e+05, 3.48252787e+05,
       3.75838093e+05, 4.05889910e+05, 4.38615258e+05, 4.74237267e+05, 5.12996311e+05, 5.55151218e+05, 6.00980545e+05, 6.50783932e+05,
       7.04883539e+05, 7.63625552e+05, 8.27381791e+05, 8.96551387e+05, 9.71562566e+05, 1.05287451e+06, 1.14097934e+06, 1.23640415e+06,
       1.33971319e+06, 1.45151012e+06, 1.57244036e+06, 1.70319356e+06, 1.84450619e+06, 1.99716416e+06, 2.16200559e+06, 2.33992368e+06,
       2.53186962e+06, 2.73885566e+06, 2.96195813e+06, 3.20232070e+06, 3.46115750e+06, 3.73975647e+06, 4.03948258e+06, 4.36178111e+06,
       4.70818103e+06, 5.08029808e+06, 5.47983808e+06, 5.90859994e+06, 6.36847859e+06, 6.86146782e+06, 7.38966272e+06, 7.95526211e+06,
       8.56057042e+06, 9.20799936e+06, 9.90006907e+06, 1.06394088e+07, 1.14287571e+07, 1.22709613e+07, 1.31689759e+07, 1.41258614e+07,
       1.51447804e+07, 1.62289943e+07, 1.73818585e+07, 1.86068157e+07, 1.99073894e+07, 2.12871749e+07, 2.27498296e+07, 2.42990613e+07,
       2.59386162e+07, 2.76722638e+07, 2.95037814e+07, 3.14369370e+07, 3.34754701e+07, 3.56230716e+07, 3.78833617e+07, 4.02598673e+07,
       4.27559978e+07, 4.53750191e+07, 4.81200285e+07, 5.09939273e+07, 5.39993939e+07, 5.71388566e+07, 6.04144664e+07, 6.38280711e+07,
       6.73811887e+07, 7.10749841e+07, 7.49102455e+07, 7.88873636e+07, 8.30063137e+07, 8.72666386e+07, 9.16674365e+07, 9.62073507e+07,
       1.00884563e+08, 1.05696791e+08, 1.10641289e+08, 1.15714854e+08, 1.20913830e+08, 1.26234126e+08, 1.31671229e+08, 1.37220221e+08,
       1.42875808e+08, 1.48632342e+08, 1.54483847e+08, 1.60424055e+08, 1.66446438e+08, 1.72544238e+08, 1.78710509e+08, 1.84938147e+08,
       1.91219933e+08, 1.97548563e+08, 2.03916691e+08, 2.10316958e+08, 2.16742029e+08, 2.23184629e+08, 2.29637567e+08, 2.36093769e+08,
       2.42546308e+08, 2.48988422e+08, 2.55413542e+08, 2.61815310e+08, 2.68187597e+08, 2.74524517e+08, 2.80820443e+08, 2.87070013e+08,
       2.93268144e+08, 2.99410033e+08, 3.05491164e+08, 3.11507311e+08, 3.17454536e+08, 3.23329191e+08, 3.29127911e+08, 3.34847616e+08,
       3.40485503e+08, 3.46039037e+08, 3.51505950e+08, 3.56884230e+08, 3.62172111e+08, 3.67368068e+08, 3.72470804e+08, 3.77479243e+08,
       3.82392517e+08, 3.87209959e+08, 3.91931092e+08, 3.96555618e+08, 4.01083406e+08, 4.05514487e+08, 4.09849039e+08, 4.14087381e+08,
       4.18229960e+08, 4.22277345e+08, 4.26230217e+08, 4.30089358e+08, 4.33855646e+08, 4.37530046e+08, 4.41113601e+08, 4.44607427e+08,
       4.48012701e+08, 4.51330662e+08, 4.54562598e+08, 4.57709843e+08, 4.60773771e+08, 4.63755791e+08, 4.66657340e+08, 4.69479880e+08,
       4.72224895e+08, 4.74893883e+08, 4.77488355e+08, 4.80009830e+08, 4.82459834e+08, 4.84839894e+08, 4.87151535e+08, 4.89396281e+08,
       4.91575650e+08, 4.93691150e+08, 4.95744280e+08, 4.97736527e+08, 4.99669366e+08, 5.01544254e+08, 5.03362634e+08, 5.05125928e+08,
       5.06835543e+08, 5.08492863e+08, 5.10099252e+08, 5.11656055e+08, 5.13164590e+08, 5.14626157e+08, 5.16042030e+08, 5.17413460e+08,
       5.18741674e+08, 5.20027876e+08, 5.21273243e+08, 5.22478931e+08, 5.23646068e+08, 5.24775761e+08, 5.25869089e+08, 5.26927109e+08,
       5.27950853e+08, 5.28941328e+08, 5.29899519e+08, 5.30826385e+08, 5.31722863e+08, 5.32589867e+08, 5.33428285e+08, 5.34238987e+08,
       5.35022817e+08, 5.35780598e+08, 5.36513133e+08, 5.37221201e+08, 5.37905561e+08, 5.38566954e+08, 5.39206096e+08, 5.39823687e+08,
       5.40420407e+08, 5.40996915e+08, 5.41553853e+08, 5.42091846e+08, 5.42611497e+08, 5.43113397e+08, 5.43598116e+08, 5.44066208e+08,
       5.44518212e+08, 5.44954651e+08, 5.45376031e+08, 5.45782844e+08, 5.46175567e+08, 5.46554664e+08, 5.46920582e+08, 5.47273757e+08,
       5.47614611e+08, 5.47943553e+08, 5.48260979e+08, 5.48567273e+08, 5.48862807e+08, 5.49147943e+08, 5.49423028e+08, 5.49688402e+08,
       5.49944392e+08, 5.50191315e+08, 5.50429479e+08, 5.50659181e+08, 5.50880709e+08, 5.51094342e+08, 5.51300349e+08, 5.51498992e+08,
       5.51690523e+08, 5.51875187e+08, 5.52053220e+08, 5.52224851e+08, 5.52390301e+08, 5.52549784e+08, 5.52703508e+08, 5.52851672e+08,
       5.52994470e+08, 5.53132090e+08, 5.53264711e+08, 5.53392510e+08, 5.53515655e+08, 5.53634309e+08, 5.53748631e+08, 5.53858774e+08,
       5.53964884e+08, 5.54067104e+08, 5.54165572e+08, 5.54260422e+08, 5.54351780e+08, 5.54439773e+08, 5.54524519e+08, 5.54606135e+08,
       5.54684733e+08, 5.54760419e+08, 5.54833300e+08, 5.54903474e+08, 5.54971041e+08, 5.55036093e+08, 5.55098722e+08, 5.55159014e+08,
       5.55217055e+08, 5.55272925e+08, 5.55326704e+08, 5.55378467e+08, 5.55428288e+08, 5.55476237e+08, 5.55522383e+08, 5.55566792e+08,
       5.55609526e+08, 5.55650648e+08, 5.55690216e+08, 5.55728287e+08, 5.55764917e+08, 5.55800158e+08, 5.55834062e+08, 5.55866677e+08,
       5.55898053e+08, 5.55928233e+08, 5.55957263e+08, 5.55985186e+08, 5.56012041e+08, 5.56037870e+08, 5.56062710e+08, 5.56086598e+08,
       5.56109570e+08, 5.56131659e+08, 5.56152900e+08, 5.56173323e+08, 5.56192959e+08, 5.56211838e+08, 5.56229988e+08, 5.56247437e+08,
       5.56264211e+08, 5.56280335e+08]))    
    D=list(map(int,[0.00000000e+00, 3.80695536e-03, 8.27786722e-03, 1.35225274e-02, 1.96676438e-02, 2.68592928e-02, 3.52656737e-02, 4.50802002e-02,
       5.65249922e-02, 6.98548082e-02, 8.53614526e-02, 1.03378725e-01, 1.24287968e-01, 1.48524269e-01, 1.76583387e-01, 2.09029487e-01,
       2.46503746e-01, 2.89733925e-01, 3.39545006e-01, 3.96870982e-01, 4.62767913e-01, 5.38428365e-01, 6.25197352e-01, 7.24589912e-01,
       8.38310456e-01, 9.68274042e-01, 1.11662973e+00, 1.28578618e+00, 1.47843968e+00, 1.69760475e+00, 1.94664760e+00, 2.22932256e+00,
       2.54981172e+00, 2.91276802e+00, 3.32336202e+00, 3.78733257e+00, 4.31104162e+00, 4.90153350e+00, 5.56659879e+00, 6.31484319e+00,
       7.15576158e+00, 8.09981763e+00, 9.15852908e+00, 1.03445592e+01, 1.16718145e+01, 1.31555491e+01, 1.48124762e+01, 1.66608864e+01,
       1.87207738e+01, 2.10139697e+01, 2.35642844e+01, 2.63976570e+01, 2.95423143e+01, 3.30289376e+01, 3.68908391e+01, 4.11641472e+01,
       4.58880008e+01, 5.11047532e+01, 5.68601858e+01, 6.32037311e+01, 7.01887047e+01, 7.78725484e+01, 8.63170817e+01, 9.55887628e+01,
       1.05758960e+02, 1.16904232e+02, 1.29106614e+02, 1.42453921e+02, 1.57040048e+02, 1.72965287e+02, 1.90336650e+02, 2.09268196e+02,
       2.29881364e+02, 2.52305319e+02, 2.76677295e+02, 3.03142947e+02, 3.31856704e+02, 3.62982127e+02, 3.96692266e+02, 4.33170022e+02,
       4.72608503e+02, 5.15211383e+02, 5.61193255e+02, 6.10779980e+02, 6.64209035e+02, 7.21729850e+02, 7.83604133e+02, 8.50106194e+02,
       9.21523254e+02, 9.98155736e+02, 1.08031755e+03, 1.16831844e+03, 1.26189226e+03, 1.36100560e+03, 1.46589604e+03, 1.57680545e+03,
       1.69397967e+03, 1.81766824e+03, 1.94812403e+03, 2.08560291e+03, 2.23036336e+03, 2.38266610e+03, 2.54277367e+03, 2.71094997e+03,
       2.88745984e+03, 3.07256857e+03, 3.26654143e+03, 3.46964317e+03, 3.68213746e+03, 3.90428643e+03, 4.13635008e+03, 4.37858574e+03,
       4.63124750e+03, 4.89458569e+03, 5.16884626e+03, 5.45427019e+03, 5.75109298e+03, 6.05954401e+03, 6.37984597e+03, 6.71221431e+03,
       7.05685666e+03, 7.41397225e+03, 7.78375136e+03, 8.16637482e+03, 8.56201340e+03, 8.97082735e+03, 9.39296589e+03, 9.82856669e+03,
       1.02777555e+04, 1.07406454e+04, 1.12173370e+04, 1.17093212e+04, 1.22412528e+04, 1.28256075e+04, 1.34672793e+04, 1.41715915e+04,
       1.49443323e+04, 1.57917921e+04, 1.67208042e+04, 1.77387887e+04, 1.88537988e+04, 2.00745710e+04, 2.14105784e+04, 2.28720887e+04,
       2.44702256e+04, 2.62170345e+04, 2.81255532e+04, 3.02098870e+04, 3.24852887e+04, 3.49682451e+04, 3.76765680e+04, 4.06294918e+04,
       4.38477775e+04, 4.73538228e+04, 5.11717802e+04, 5.53276812e+04, 5.98495697e+04, 6.47676421e+04, 7.01143969e+04, 7.59247921e+04,
       8.22364128e+04, 8.90896478e+04, 9.65278756e+04, 1.04597662e+05, 1.13348966e+05, 1.22835360e+05, 1.33114257e+05, 1.44247151e+05,
       1.56299873e+05, 1.69342847e+05, 1.83451375e+05, 1.98705915e+05, 2.15192389e+05, 2.33002486e+05, 2.52233986e+05, 2.72991096e+05,
       2.95384790e+05, 3.19533160e+05, 3.45561782e+05, 3.73604081e+05, 4.03801709e+05, 4.36304921e+05, 4.71272967e+05, 5.08874463e+05,
       5.49287786e+05, 5.92701442e+05, 6.39314443e+05, 6.89336660e+05, 7.42989169e+05, 8.00504579e+05, 8.62127317e+05, 9.28113913e+05,
       9.98733216e+05, 1.07426659e+06, 1.15500806e+06, 1.24126436e+06, 1.33335500e+06, 1.43161215e+06, 1.53638053e+06, 1.64801716e+06,
       1.76689104e+06, 1.89338267e+06, 2.02788349e+06, 2.17079516e+06, 2.32252877e+06, 2.48350374e+06, 2.65414678e+06, 2.83489049e+06,
       3.02617189e+06, 3.22843077e+06, 3.44210783e+06, 3.66764265e+06, 3.90547152e+06, 4.15602502e+06, 4.41972553e+06, 4.69698452e+06,
       4.98819974e+06, 5.29375222e+06, 5.61400333e+06, 5.94929152e+06, 6.29992928e+06, 6.66619993e+06, 7.04835441e+06, 7.44660829e+06,
       7.86113868e+06, 8.29208148e+06, 8.73952864e+06, 9.20352576e+06, 9.68406993e+06, 1.01811078e+07, 1.06945343e+07, 1.12241909e+07,
       1.17698657e+07, 1.23312923e+07, 1.29081504e+07, 1.35000663e+07, 1.41066135e+07, 1.47273147e+07, 1.53616433e+07, 1.60090258e+07,
       1.66688443e+07, 1.73404399e+07, 1.80231154e+07, 1.87161398e+07, 1.94187511e+07, 2.01301611e+07, 2.08495594e+07, 2.15761172e+07,
       2.23089922e+07, 2.30473324e+07, 2.37902806e+07, 2.45369784e+07, 2.52865701e+07, 2.60382067e+07, 2.67910494e+07, 2.75442731e+07,
       2.82970692e+07, 2.90486492e+07, 2.97982466e+07, 3.05451195e+07, 3.12885530e+07, 3.20278604e+07, 3.27623850e+07, 3.34915016e+07,
       3.42146168e+07, 3.49311705e+07, 3.56406358e+07, 3.63425197e+07, 3.70363626e+07, 3.77217389e+07, 3.83982563e+07, 3.90655552e+07,
       3.97233086e+07, 4.03712210e+07, 4.10090275e+07, 4.16364935e+07, 4.22534130e+07, 4.28596079e+07, 4.34549271e+07, 4.40392450e+07,
       4.46124603e+07, 4.51744952e+07, 4.57252941e+07, 4.62648221e+07, 4.67930641e+07, 4.73100235e+07, 4.78157213e+07, 4.83101945e+07,
       4.87934953e+07, 4.92656903e+07, 4.97268586e+07, 5.01770917e+07, 5.06164920e+07, 5.10451720e+07, 5.14632535e+07, 5.18708664e+07,
       5.22681485e+07, 5.26552439e+07, 5.30323031e+07, 5.33994817e+07, 5.37569400e+07, 5.41048423e+07, 5.44433563e+07, 5.47726527e+07,
       5.50929044e+07, 5.54042864e+07, 5.57069747e+07, 5.60011468e+07, 5.62869806e+07, 5.65646543e+07, 5.68343458e+07, 5.70962328e+07,
       5.73504925e+07, 5.75973008e+07, 5.78368326e+07, 5.80692615e+07, 5.82947594e+07, 5.85134963e+07, 5.87256406e+07, 5.89313583e+07,
       5.91308133e+07, 5.93241673e+07, 5.95115794e+07, 5.96932064e+07, 5.98692022e+07, 6.00397184e+07, 6.02049035e+07, 6.03649037e+07,
       6.05198620e+07, 6.06699189e+07, 6.08152117e+07, 6.09558753e+07, 6.10920413e+07, 6.12238388e+07, 6.13513937e+07, 6.14748294e+07,
       6.15942662e+07, 6.17098217e+07, 6.18216106e+07, 6.19297450e+07, 6.20343341e+07, 6.21354844e+07, 6.22332999e+07, 6.23278818e+07,
       6.24193286e+07, 6.25077365e+07, 6.25931988e+07, 6.26758068e+07, 6.27556488e+07, 6.28328113e+07, 6.29073779e+07, 6.29794302e+07,
       6.30490475e+07, 6.31163067e+07, 6.31812829e+07, 6.32440487e+07, 6.33046747e+07, 6.33632297e+07, 6.34197802e+07, 6.34743909e+07,
       6.35271248e+07, 6.35780426e+07, 6.36272036e+07, 6.36746651e+07, 6.37204828e+07, 6.37647108e+07, 6.38074012e+07, 6.38486050e+07,
       6.38883713e+07, 6.39267479e+07, 6.39637809e+07, 6.39995152e+07, 6.40339942e+07, 6.40672600e+07, 6.40993533e+07, 6.41303135e+07,
       6.41601790e+07, 6.41889867e+07, 6.42167725e+07, 6.42435711e+07, 6.42694160e+07, 6.42943399e+07, 6.43183740e+07, 6.43415490e+07,
       6.43638943e+07, 6.43854385e+07, 6.44062090e+07, 6.44262326e+07, 6.44455351e+07, 6.44641415e+07, 6.44820759e+07, 6.44993617e+07,
       6.45160215e+07, 6.45320771e+07, 6.45475497e+07, 6.45624595e+07, 6.45768264e+07, 6.45906694e+07, 6.46040070e+07, 6.46168569e+07,
       6.46292364e+07, 6.46411621e+07, 6.46526501e+07, 6.46637158e+07, 6.46743744e+07, 6.46846402e+07, 6.46945273e+07, 6.47040491e+07,
       6.47132188e+07, 6.47220489e+07, 6.47305516e+07, 6.47387387e+07, 6.47466215e+07, 6.47542109e+07, 6.47615176e+07, 6.47685517e+07,
       6.47753231e+07, 6.47818413e+07, 6.47881155e+07, 6.47941545e+07, 6.47999670e+07, 6.48055610e+07, 6.48109447e+07, 6.48161257e+07,
       6.48211114e+07, 6.48259089e+07, 6.48305252e+07, 6.48349668e+07, 6.48392403e+07, 6.48433518e+07, 6.48473072e+07, 6.48511124e+07,
       6.48547728e+07, 6.48582939e+07, 6.48616807e+07, 6.48649383e+07, 6.48680715e+07, 6.48710848e+07, 6.48739828e+07, 6.48767698e+07,
       6.48794498e+07, 6.48820269e+07, 6.48845050e+07, 6.48868876e+07, 6.48891785e+07, 6.48913811e+07, 6.48934986e+07, 6.48955343e+07,
       6.48974912e+07, 6.48993724e+07]))
    i=list(I)[:DaysElapsed]    
    r=list(R)[:DaysElapsed]
    d=list(D)[:DaysElapsed]
    return [i,r,d,I[DaysElapsed:DaysElapsed+10],R[DaysElapsed:DaysElapsed+10],D[DaysElapsed:DaysElapsed+10]]
'''
Code for plots

from bokeh.plotting import figure, output_file, show
from bokeh.models import HoverTool,ColumnDataSource
from bokeh.models.formatters import DatetimeTickFormatter
from bokeh.layouts import column
output_file("datetime.html")
dates=[nptodt(x) for x in np.arange(stdate,stdate+len(S))]
data={'x':t,'Sus':S, 'Inf':I, 'Rec': R, 'Dec':D,'dates':dates}
source=ColumnDataSource(data=data)
# create a new plot with a datetime axis type
fig = figure(plot_height=300, x_axis_type="datetime",
             tools="wheel_zoom,box_zoom,reset,save")

plt1=fig.line(x='x',y='Sus', color='orange', alpha=1,source=source)
fig.add_tools(HoverTool(renderers=[plt1],tooltips=[("Date","@dates"),("Susceptible", "@Sus")]))
plt2=fig.line(x='x',y='Inf', color='red', alpha=1,source=source)
fig.add_tools(HoverTool(renderers=[plt2],tooltips=[("Date","@dates"),("Infected", "@Inf")]))
plt3=fig.line(x='x',y='Rec', color='green', alpha=1,source=source)
fig.add_tools(HoverTool(renderers=[plt3],tooltips=[("Date","@dates"),("Recovered", "@Rec")]))
plt4=fig.line(x='x',y='Dec', color='gray', alpha=1,source=source)
fig.add_tools(HoverTool(renderers=[plt4],tooltips=[("Date","@dates"),("Deceased", "@Dec")]))

show(column(fig,sizing_mode="stretch_width"))

print(I[-1],R[-1],D[-1])

conf=np.array(df['totalconfirmed']).astype(np.float64)
rec=np.array(df['totalrecovered']).astype(np.float64)
dec=np.array(df['totaldeceased']).astype(np.float64)
act=conf-rec-dec

act=list(act)
conf=list(conf)
rec=list(rec)

dates=[nptodt(x) for x in np.arange(stdate,enddate)]
x=np.arange(stdate,enddate)

data={'x':x,'dates':dates,'actualact':act,'predact':I[:len(act)]}
source=ColumnDataSource(data=data)
# create a new plot with a datetime axis type
fig = figure(plot_height=300, x_axis_type="datetime",title='Active Cases',
             tools="wheel_zoom,box_zoom,reset,save")

plt1=fig.line(x='x',y='actualact', color='blue', alpha=1,source=source,legend_label='Actual')
fig.add_tools(HoverTool(renderers=[plt1],tooltips=[("Date","@dates"),("Actual", "@actualact")]))
plt2=fig.line(x='x',y='predact', color='orange', alpha=1,source=source,legend_label='Predicted')
fig.add_tools(HoverTool(renderers=[plt2],tooltips=[("Date","@dates"),("Predicted", "@predact")]))

fig.legend.location = "top_left"
fig.legend.click_policy="hide"
fig.xaxis.formatter=DatetimeTickFormatter(days=["%b %d"])

data1={'x':x,'dates':dates,'actualrec':rec,'predrec':R[:len(rec)]}
source1=ColumnDataSource(data=data1)
# create a new plot with a datetime axis type
fig1 = figure(plot_height=300, x_axis_type="datetime",title='Recovered Cases',
             tools="wheel_zoom,box_zoom,reset,save")

plt1=fig1.line(x='x',y='actualrec', color='blue', alpha=1,source=source1,legend_label='Actual')
fig1.add_tools(HoverTool(renderers=[plt1],tooltips=[("Date","@dates"),("Actual", "@actualrec")]))
plt2=fig1.line(x='x',y='predrec', color='orange', alpha=1,source=source1,legend_label='Predicted')
fig1.add_tools(HoverTool(renderers=[plt2],tooltips=[("Date","@dates"),("Predicted", "@predrec")]))

fig1.legend.location = "top_left"
fig1.legend.click_policy="hide"
fig1.xaxis.formatter=DatetimeTickFormatter(days=["%b %d"])

data2={'x':x,'dates':dates,'actualdec':dec,'preddec':D[:len(dec)]}
source2=ColumnDataSource(data=data2)
# create a new plot with a datetime axis type
fig2 = figure(plot_height=300, x_axis_type="datetime",title='Deceased Cases',
             tools="wheel_zoom,box_zoom,reset,save")

plt1=fig2.line(x='x',y='actualdec', color='blue', alpha=1,source=source2,legend_label='Actual')
fig2.add_tools(HoverTool(renderers=[plt1],tooltips=[("Date","@dates"),("Actual", "@actualdec")]))
plt2=fig2.line(x='x',y='preddec', color='orange', alpha=1,source=source2,legend_label='Predicted')
fig2.add_tools(HoverTool(renderers=[plt2],tooltips=[("Date","@dates"),("Predicted", "@preddec")]))

fig2.legend.location = "top_left"
fig2.legend.click_policy="hide"
fig2.xaxis.formatter=DatetimeTickFormatter(days=["%b %d"])

show(column(fig,fig1,fig2,sizing_mode="stretch_width"))

for i in range(1,11):
    print(act[DaysElapsed-i],I[DaysElapsed-i])
print()
for i in range(1,11):
    print(rec[DaysElapsed-i],R[DaysElapsed-i])
print()  
for i in range(1,11):
    print(dec[DaysElapsed-i],D[DaysElapsed-i])'''
