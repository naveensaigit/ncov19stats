{% extends "layout.html" %}
{% block css %}
    <link href="{{url_for('static',filename='css/index.css')}}" rel='stylesheet'>
{% endblock css %}
{% block js %}
    <script src="{{ url_for('static',filename='js/index.js') }}"></script>
{% endblock js %}

{% block content %}
    <script>
      var doc_id="e6966378-2024-4dd6-ac89-dc9156ead24c";  //Dict key of script
      var script_id="14473";  //Script tag ID
      var plot_div_id="2657d1c2-7221-458f-908f-f6bc367374f7";  //Div id of bk-root div
      var data_root_id="14120";

      $(document).ready(function(){
        var st=$('#'+script_id).text();
      st=st.split("&#39;").join('"');
      $('#'+script_id).text(st);
      console.log('Done');
      if(isTouchDevice())
      disableToolBar();
      else
      showPlot();
      });
      
      function report(state){
        {% for st in states %}
          var st="{{st}}";
          state=state.trim();
          if(st.localeCompare(state)==0)
          {
            changePlot({{ plotdict[st][0]|safe }},{{ plotdict[st][1]|safe }},{{ plotdict[st][2]|safe }},
            {{ plotdict[st][3]|safe }}, {{ plotdict[st][4]|safe }},{{ plotdict[st][5]|safe }},
            {{ plotdict[st][6]|safe }},{{ plotdict[st][7]|safe }},{{ plotdict[st][8]|safe }},
            {{ plotdict[st][9]|safe }},{{ plotdict[st][10]|safe }},{{ plotdict[st][11]|safe }});
          }
        {% endfor %}
        return state;
      }
      
    </script>
    <div id="table">
      <div id="total">
        {% for i in range(total|length) %}
          {% if total[i][1]|length == 2 %}
            <div class="box" style="grid-row:1;grid-column: {{i+1}};{{ colors[i][0]}};{{ colors[i][1]}}; ">
              {{ total[i][0] }}<br> {{ total[i][1][0] }}<br>(+{{ total[i][1][1] }})
            </div>
          {% else %}
            <div class="box" style="grid-row:1;grid-column: {{i+1}};{{ colors[i][0]}};{{ colors[i][1]}}; ">
              {{ total[i][0] }}<br> {{ total[i][1][0] }}<br><br>
            </div>
          {% endif %}
        {%endfor%}
      </div>

      <div id="stategrid">
        {% for i in range(numbers|length) %}
          {% for j in range(numbers[i]|length) %}
            {% if numbers[i][j]|length==2 %}
              <div class="state" style="grid-row: {{i+1}} ;grid-column:{{j+1}};">
                {{numbers[i][j][0]}} &nbsp(+{{numbers[i][j][1]}})
              </div>
            {% elif numbers[i][j][0] is integer %}
            <div class="state" style="grid-row: {{i+1}} ;grid-column:{{j+1}};">
              {{numbers[i][j][0]}}
            </div>
            {% else %}
              <div class="state" style="grid-row: {{i+1}} ;grid-column:{{j+1}};">
                {{numbers[i][j]}}
              </div>
            {% endif %}
          {% endfor %}
        {% endfor %}  
    </div>
    </div>

    <div id="drop">
      <div style="text-align: center;font-size:1.7em;">
        <h3>Time Series</h3>
      </div>
      <div>
        <select onchange="report(this.value)">
          <option value="Total" >Total</option>
          {% for i in range(states|length -1 ) %}
          <option value=" {{states[i]}} "> {{ states[i] }} </option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div id="plots">
      <div class="bk-root" id="2657d1c2-7221-458f-908f-f6bc367374f7" data-root-id="14120"></div>
        <script type="application/json" id="14473">
          {"e6966378-2024-4dd6-ac89-dc9156ead24c":{"roots":{"references":[{"attributes":{"dimension":1,"grid_line_color":null,"ticker":{"id":"13996","type":"BasicTicker"}},"id":"13999","type":"Grid"},{"attributes":{"fields":[]},"id":"14101","type":"Stack"},{"attributes":{"callback":null,"start":0},"id":"13985","type":"DataRange1d"},{"attributes":{"children":[{"id":"14118","type":"Row"}],"sizing_mode":"stretch_width"},"id":"14119","type":"Column"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"14146","type":"BoxAnnotation"},{"attributes":{"background_fill_color":{"value":"rgba(0, 255, 100, 0.15)"},"below":[{"id":"14032","type":"CategoricalAxis"}],"center":[{"id":"14035","type":"Grid"},{"id":"14040","type":"Grid"}],"left":[{"id":"14036","type":"LinearAxis"}],"plot_height":300,"renderers":[{"id":"14058","type":"GlyphRenderer"},{"id":"14063","type":"GlyphRenderer"}],"sizing_mode":"stretch_width","title":{"id":"14022","type":"Title"},"toolbar":{"id":"14045","type":"Toolbar"},"toolbar_location":"below","x_range":{"id":"14024","type":"FactorRange"},"x_scale":{"id":"14028","type":"CategoricalScale"},"y_range":{"id":"14026","type":"DataRange1d"},"y_scale":{"id":"14030","type":"LinearScale"}},"id":"14021","subtype":"Figure","type":"Plot"},{"attributes":{"callback":null,"data":{"cumrec":{{ plotdict['Total'][2] }},"dates":{{ plotdict['Total'][10] }},"dispcumrec":{{ plotdict['Total'][2] }},"dispdates":{{ plotdict['Total'][10] }},"dispnewrec":{{ plotdict['Total'][8] }},"dispoldrec":{{ plotdict['Total'][5] }},"newrec":{{ plotdict['Total'][8] }},"oldrec":{{ plotdict['Total'][5] }},"x":{{ plotdict['Total'][11] }}},"selected":{"id":"14148","type":"Selection"},"selection_policy":{"id":"14147","type":"UnionRenderers"}},"id":"14020","type":"ColumnDataSource"},{"attributes":{},"id":"14043","type":"ResetTool"},{"attributes":{},"id":"14148","type":"Selection"},{"attributes":{"grid_line_color":null,"ticker":{"id":"13992","type":"CategoricalTicker"}},"id":"13994","type":"Grid"},{"attributes":{"dimension":1,"grid_line_color":null,"ticker":{"id":"14087","type":"BasicTicker"}},"id":"14090","type":"Grid"},{"attributes":{"fields":["dispoldconf"]},"id":"13962","type":"Stack"},{"attributes":{"callback":null,"callback_policy":"mouseup","end":{{ end }},"js_property_callbacks":{"change:value":[{"id":"14100","type":"CustomJS"}]},"start":1580342400000.0,"title":"Date","tooltips":false,"value":[1580342400000.0,{{ end }}],"width":300},"id":"14117","type":"DateRangeSlider"},{"attributes":{"overlay":{"id":"14143","type":"BoxAnnotation"}},"id":"13951","type":"BoxZoomTool"},{"attributes":{},"id":"14037","type":"BasicTicker"},{"attributes":{"overlay":{"id":"14152","type":"BoxAnnotation"}},"id":"14092","type":"BoxZoomTool"},{"attributes":{"children":[{"id":"13977","type":"Row"}],"sizing_mode":"stretch_width"},"id":"13978","type":"Column"},{"attributes":{},"id":"13989","type":"LinearScale"},{"attributes":{"fields":["dispoldconf"]},"id":"13961","type":"Stack"},{"attributes":{},"id":"14151","type":"Selection"},{"attributes":{"children":[{"id":"14018","type":"Row"}],"sizing_mode":"stretch_width"},"id":"14019","type":"Column"},{"attributes":{"data_source":{"id":"13929","type":"ColumnDataSource"},"glyph":{"id":"13965","type":"VBar"},"hover_glyph":null,"muted_glyph":null,"name":"dispoldconf","nonselection_glyph":{"id":"13966","type":"VBar"},"selection_glyph":null,"view":{"id":"13968","type":"CDSView"}},"id":"13967","type":"GlyphRenderer"},{"attributes":{},"id":"14139","type":"BasicTickFormatter"},{"attributes":{"callback":null,"tooltips":[["Date","@dispdates"],["Old","@dispolddec"],["New","@dispnewdec"],["Total","@dispcumdec"]]},"id":"14115","type":"HoverTool"},{"attributes":{"callback":null,"callback_policy":"mouseup","end":{{ end }},"js_property_callbacks":{"change:value":[{"id":"13959","type":"CustomJS"}]},"start":1580342400000.0,"title":"Date","tooltips":false,"value":[1580342400000.0,{{ end }}],"width":300},"id":"13976","type":"DateRangeSlider"},{"attributes":{"source":{"id":"14070","type":"ColumnDataSource"}},"id":"14114","type":"CDSView"},{"attributes":{"bottom":{"expr":{"id":"14101","type":"Stack"}},"fill_color":{"value":"rgba(77, 75, 75, 0.5)"},"line_color":{"value":"rgba(77, 75, 75, 0.5)"},"top":{"expr":{"id":"14102","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"14106","type":"VBar"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"14152","type":"BoxAnnotation"},{"attributes":{"bottom":{"expr":{"id":"13960","type":"Stack"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"expr":{"id":"13961","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"13966","type":"VBar"},{"attributes":{"source":{"id":"14070","type":"ColumnDataSource"}},"id":"14109","type":"CDSView"},{"attributes":{"fields":["dispoldrec"]},"id":"14052","type":"Stack"},{"attributes":{"children":[{"id":"14117","type":"DateRangeSlider"}]},"id":"14118","type":"Row"},{"attributes":{},"id":"14125","type":"CategoricalTickFormatter"},{"attributes":{},"id":"14135","type":"BasicTickFormatter"},{"attributes":{"background_fill_color":{"value":"rgba(255, 123, 0, 0.15)"},"below":[{"id":"13941","type":"CategoricalAxis"}],"center":[{"id":"13944","type":"Grid"},{"id":"13949","type":"Grid"}],"left":[{"id":"13945","type":"LinearAxis"}],"plot_height":300,"renderers":[{"id":"13967","type":"GlyphRenderer"},{"id":"13972","type":"GlyphRenderer"}],"sizing_mode":"stretch_width","title":{"id":"13931","type":"Title"},"toolbar":{"id":"13954","type":"Toolbar"},"toolbar_location":"below","x_range":{"id":"13933","type":"FactorRange"},"x_scale":{"id":"13937","type":"CategoricalScale"},"y_range":{"id":"13935","type":"DataRange1d"},"y_scale":{"id":"13939","type":"LinearScale"}},"id":"13930","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"14033","type":"CategoricalTicker"},{"attributes":{"source":{"id":"13929","type":"ColumnDataSource"}},"id":"13973","type":"CDSView"},{"attributes":{"bottom":{"expr":{"id":"14101","type":"Stack"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"expr":{"id":"14102","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"14107","type":"VBar"},{"attributes":{},"id":"14141","type":"UnionRenderers"},{"attributes":{"data_source":{"id":"14070","type":"ColumnDataSource"},"glyph":{"id":"14111","type":"VBar"},"hover_glyph":null,"muted_glyph":null,"name":"dispnewdec","nonselection_glyph":{"id":"14112","type":"VBar"},"selection_glyph":null,"view":{"id":"14114","type":"CDSView"}},"id":"14113","type":"GlyphRenderer"},{"attributes":{},"id":"14150","type":"UnionRenderers"},{"attributes":{"text":"Active"},"id":"13981","type":"Title"},{"attributes":{"callback":null,"tooltips":[["Date","@dispdates"],["Old","@dispoldrec"],["New","@dispnewrec"],["Total","@dispcumrec"]]},"id":"14065","type":"HoverTool"},{"attributes":{},"id":"14142","type":"Selection"},{"attributes":{"callback":null,"factors":{{ plotdict['Total'][11] }}},"id":"13983","type":"FactorRange"},{"attributes":{},"id":"14091","type":"WheelZoomTool"},{"attributes":{},"id":"13987","type":"CategoricalScale"},{"attributes":{"data_source":{"id":"14070","type":"ColumnDataSource"},"glyph":{"id":"14106","type":"VBar"},"hover_glyph":null,"muted_glyph":null,"name":"dispolddec","nonselection_glyph":{"id":"14107","type":"VBar"},"selection_glyph":null,"view":{"id":"14109","type":"CDSView"}},"id":"14108","type":"GlyphRenderer"},{"attributes":{},"id":"14131","type":"BasicTickFormatter"},{"attributes":{},"id":"14028","type":"CategoricalScale"},{"attributes":{},"id":"14129","type":"CategoricalTickFormatter"},{"attributes":{},"id":"14093","type":"ResetTool"},{"attributes":{"dimension":1,"grid_line_color":null,"ticker":{"id":"14037","type":"BasicTicker"}},"id":"14040","type":"Grid"},{"attributes":{},"id":"14133","type":"CategoricalTickFormatter"},{"attributes":{"fields":["dispolddec"]},"id":"14102","type":"Stack"},{"attributes":{"grid_line_color":null,"ticker":{"id":"14033","type":"CategoricalTicker"}},"id":"14035","type":"Grid"},{"attributes":{},"id":"14145","type":"Selection"},{"attributes":{"bottom":{"expr":{"id":"13960","type":"Stack"}},"fill_color":{"value":"rgba(255, 123, 0, 0.5)"},"line_color":{"value":"rgba(255, 123, 0, 0.5)"},"top":{"expr":{"id":"13961","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"13965","type":"VBar"},{"attributes":{},"id":"14137","type":"CategoricalTickFormatter"},{"attributes":{"fields":["dispolddec"]},"id":"14103","type":"Stack"},{"attributes":{},"id":"14147","type":"UnionRenderers"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"14143","type":"BoxAnnotation"},{"attributes":{},"id":"13992","type":"CategoricalTicker"},{"attributes":{"args":{"source":{"id":"14020","type":"ColumnDataSource"},"x_range":{"id":"14024","type":"FactorRange"}},"code":"\nvar stdate= new Date(2020,0,30);\nvar d1=(cb_obj.value[0]-stdate)/86400000;\nvar d2=(cb_obj.value[1]-stdate)/86400000;\nx_range.setv({\"start\":0,\"end\":d2-d1+1});\nd1=Math.floor(d1);\nd2=Math.floor(d2);\nsource.data['dispoldrec']=source.data[\"oldrec\"].slice(d1,d2+2);\nsource.data['dispnewrec']=source.data[\"newrec\"].slice(d1,d2+1);\nsource.data['dispcumrec']=source.data[\"cumrec\"].slice(d1,d2+2);\nsource.data['dispdates']=source.data[\"dates\"].slice(d1,d2+2);\nsource.change.emit();\n"},"id":"14050","type":"CustomJS"},{"attributes":{"callback":null,"data":{"cumconf":{{ plotdict['Total'][0] }},"dates":{{ plotdict['Total'][10] }},"dispcumconf":{{ plotdict['Total'][0] }},"dispdates":{{ plotdict['Total'][10] }},"dispnewconf":{{ plotdict['Total'][7] }},"dispoldconf":{{ plotdict['Total'][4] }},"newconf":{{ plotdict['Total'][7] }},"oldconf":{{ plotdict['Total'][4] }},"x":{{ plotdict['Total'][11] }}},"selected":{"id":"14142","type":"Selection"},"selection_policy":{"id":"14141","type":"UnionRenderers"}},"id":"13929","type":"ColumnDataSource"},{"attributes":{},"id":"14094","type":"SaveTool"},{"attributes":{"background_fill_color":{"value":"rgba(255, 0, 0, 0.15)"},"below":[{"id":"13991","type":"CategoricalAxis"}],"center":[{"id":"13994","type":"Grid"},{"id":"13999","type":"Grid"}],"left":[{"id":"13995","type":"LinearAxis"}],"plot_height":300,"renderers":[{"id":"14013","type":"GlyphRenderer"}],"sizing_mode":"stretch_width","title":{"id":"13981","type":"Title"},"toolbar":{"id":"14004","type":"Toolbar"},"toolbar_location":"below","x_range":{"id":"13983","type":"FactorRange"},"x_scale":{"id":"13987","type":"CategoricalScale"},"y_range":{"id":"13985","type":"DataRange1d"},"y_scale":{"id":"13989","type":"LinearScale"}},"id":"13980","subtype":"Figure","type":"Plot"},{"attributes":{"fields":["dispoldconf","dispnewconf"]},"id":"13963","type":"Stack"},{"attributes":{"source":{"id":"13929","type":"ColumnDataSource"}},"id":"13968","type":"CDSView"},{"attributes":{},"id":"14041","type":"WheelZoomTool"},{"attributes":{},"id":"14044","type":"SaveTool"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"14149","type":"BoxAnnotation"},{"attributes":{"formatter":{"id":"14135","type":"BasicTickFormatter"},"ticker":{"id":"14037","type":"BasicTicker"}},"id":"14036","type":"LinearAxis"},{"attributes":{},"id":"13953","type":"SaveTool"},{"attributes":{"callback":null,"factors":{{ plotdict['Total'][11] }}},"id":"14024","type":"FactorRange"},{"attributes":{},"id":"13952","type":"ResetTool"},{"attributes":{},"id":"14127","type":"BasicTickFormatter"},{"attributes":{"overlay":{"id":"14149","type":"BoxAnnotation"}},"id":"14042","type":"BoxZoomTool"},{"attributes":{"fields":[]},"id":"14051","type":"Stack"},{"attributes":{},"id":"14030","type":"LinearScale"},{"attributes":{},"id":"14087","type":"BasicTicker"},{"attributes":{"children":[{"id":"14017","type":"DateRangeSlider"}]},"id":"14018","type":"Row"},{"attributes":{"fields":["dispolddec","dispnewdec"]},"id":"14104","type":"Stack"},{"attributes":{"formatter":{"id":"14129","type":"CategoricalTickFormatter"},"major_label_text_font_size":{"value":"0pt"},"major_tick_line_color":{"value":null},"minor_tick_line_color":{"value":null},"ticker":{"id":"13992","type":"CategoricalTicker"}},"id":"13991","type":"CategoricalAxis"},{"attributes":{"callback":null,"data":{"cumact":{{ plotdict['Total'][1] }},"dates":{{ plotdict['Total'][10] }},"dispcumact":{{ plotdict['Total'][1] }},"dispdates":{{ plotdict['Total'][10] }},"x":{{ plotdict['Total'][11] }}},"selected":{"id":"14145","type":"Selection"},"selection_policy":{"id":"14144","type":"UnionRenderers"}},"id":"13979","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"13976","type":"DateRangeSlider"}]},"id":"13977","type":"Row"},{"attributes":{"formatter":{"id":"14133","type":"CategoricalTickFormatter"},"major_label_text_font_size":{"value":"0pt"},"major_tick_line_color":{"value":null},"minor_tick_line_color":{"value":null},"ticker":{"id":"14033","type":"CategoricalTicker"}},"id":"14032","type":"CategoricalAxis"},{"attributes":{"source":{"id":"13979","type":"ColumnDataSource"}},"id":"14014","type":"CDSView"},{"attributes":{"children":[{"id":"13930","subtype":"Figure","type":"Plot"},{"id":"13978","type":"Column"},{"id":"13980","subtype":"Figure","type":"Plot"},{"id":"14019","type":"Column"},{"id":"14021","subtype":"Figure","type":"Plot"},{"id":"14069","type":"Column"},{"id":"14071","subtype":"Figure","type":"Plot"},{"id":"14119","type":"Column"}],"sizing_mode":"stretch_width"},"id":"14120","type":"Column"},{"attributes":{"bottom":{"expr":{"id":"14053","type":"Stack"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"expr":{"id":"14054","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"14062","type":"VBar"},{"attributes":{"callback":null,"data":{"cumdec":{{ plotdict['Total'][3] }},"dates":{{ plotdict['Total'][10] }},"dispcumdec":{{ plotdict['Total'][3] }},"dispdates":{{ plotdict['Total'][10] }},"dispnewdec":{{ plotdict['Total'][9] }},"dispolddec":{{ plotdict['Total'][6] }},"newdec":{{ plotdict['Total'][9] }},"olddec":{{ plotdict['Total'][6] }},"x":{{ plotdict['Total'][11] }}},"selected":{"id":"14151","type":"Selection"},"selection_policy":{"id":"14150","type":"UnionRenderers"}},"id":"14070","type":"ColumnDataSource"},{"attributes":{"formatter":{"id":"14127","type":"BasicTickFormatter"},"ticker":{"id":"13946","type":"BasicTicker"}},"id":"13945","type":"LinearAxis"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"14091","type":"WheelZoomTool"},{"id":"14092","type":"BoxZoomTool"},{"id":"14093","type":"ResetTool"},{"id":"14094","type":"SaveTool"},{"id":"14115","type":"HoverTool"}]},"id":"14095","type":"Toolbar"},{"attributes":{"callback":null,"start":0},"id":"14076","type":"DataRange1d"},{"attributes":{"fill_color":{"value":"rgb(255, 0, 0)"},"line_color":{"value":"rgb(255, 0, 0)"},"top":{"field":"dispcumact"},"width":{"value":0.4},"x":{"field":"x"}},"id":"14011","type":"VBar"},{"attributes":{},"id":"13946","type":"BasicTicker"},{"attributes":{},"id":"13937","type":"CategoricalScale"},{"attributes":{"source":{"id":"14020","type":"ColumnDataSource"}},"id":"14064","type":"CDSView"},{"attributes":{},"id":"14003","type":"SaveTool"},{"attributes":{"callback":null,"start":0},"id":"14026","type":"DataRange1d"},{"attributes":{"callback":null,"callback_policy":"mouseup","end":{{ end }},"js_property_callbacks":{"change:value":[{"id":"14009","type":"CustomJS"}]},"start":1580342400000.0,"title":"Date","tooltips":false,"value":[1580342400000.0,{{ end }}],"width":300},"id":"14017","type":"DateRangeSlider"},{"attributes":{"data_source":{"id":"13979","type":"ColumnDataSource"},"glyph":{"id":"14011","type":"VBar"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"14012","type":"VBar"},"selection_glyph":null,"view":{"id":"14014","type":"CDSView"}},"id":"14013","type":"GlyphRenderer"},{"attributes":{"args":{"source":{"id":"14070","type":"ColumnDataSource"},"x_range":{"id":"14074","type":"FactorRange"}},"code":"\nvar stdate= new Date(2020,0,30);\nvar d1=(cb_obj.value[0]-stdate)/86400000;\nvar d2=(cb_obj.value[1]-stdate)/86400000;\nx_range.setv({\"start\":0,\"end\":d2-d1+1});\nd1=Math.floor(d1);\nd2=Math.floor(d2);\nsource.data['dispolddec']=source.data[\"olddec\"].slice(d1,d2+1);\nsource.data['dispnewdec']=source.data[\"newdec\"].slice(d1,d2+1);\nsource.data['dispcumdec']=source.data[\"cumdec\"].slice(d1,d2+1);\nsource.data['dispdates']=source.data[\"dates\"].slice(d1,d2+1);\nsource.change.emit();\n"},"id":"14100","type":"CustomJS"},{"attributes":{"formatter":{"id":"14139","type":"BasicTickFormatter"},"ticker":{"id":"14087","type":"BasicTicker"}},"id":"14086","type":"LinearAxis"},{"attributes":{"callback":null,"tooltips":[["Date","@dispdates"],["Old","@dispoldconf"],["New","@dispnewconf"],["Total","@dispcumconf"]]},"id":"13974","type":"HoverTool"},{"attributes":{"bottom":{"expr":{"id":"14103","type":"Stack"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"expr":{"id":"14104","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"14112","type":"VBar"},{"attributes":{"background_fill_color":{"value":"rgba(77, 75, 75, 0.15)"},"below":[{"id":"14082","type":"CategoricalAxis"}],"center":[{"id":"14085","type":"Grid"},{"id":"14090","type":"Grid"}],"left":[{"id":"14086","type":"LinearAxis"}],"plot_height":300,"renderers":[{"id":"14108","type":"GlyphRenderer"},{"id":"14113","type":"GlyphRenderer"}],"sizing_mode":"stretch_width","title":{"id":"14072","type":"Title"},"toolbar":{"id":"14095","type":"Toolbar"},"toolbar_location":"below","x_range":{"id":"14074","type":"FactorRange"},"x_scale":{"id":"14078","type":"CategoricalScale"},"y_range":{"id":"14076","type":"DataRange1d"},"y_scale":{"id":"14080","type":"LinearScale"}},"id":"14071","subtype":"Figure","type":"Plot"},{"attributes":{"formatter":{"id":"14131","type":"BasicTickFormatter"},"ticker":{"id":"13996","type":"BasicTicker"}},"id":"13995","type":"LinearAxis"},{"attributes":{},"id":"14078","type":"CategoricalScale"},{"attributes":{},"id":"13942","type":"CategoricalTicker"},{"attributes":{"bottom":{"expr":{"id":"13962","type":"Stack"}},"fill_color":{"value":"rgb(255, 123, 0)"},"line_color":{"value":"rgb(255, 123, 0)"},"top":{"expr":{"id":"13963","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"13970","type":"VBar"},{"attributes":{"callback":null,"start":0},"id":"13935","type":"DataRange1d"},{"attributes":{"children":[{"id":"14068","type":"Row"}],"sizing_mode":"stretch_width"},"id":"14069","type":"Column"},{"attributes":{},"id":"14144","type":"UnionRenderers"},{"attributes":{"text":"Confirmed"},"id":"13931","type":"Title"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"field":"dispcumact"},"width":{"value":0.4},"x":{"field":"x"}},"id":"14012","type":"VBar"},{"attributes":{"bottom":{"expr":{"id":"14053","type":"Stack"}},"fill_color":{"value":"rgb(50, 205, 50)"},"line_color":{"value":"rgb(50, 205, 50)"},"top":{"expr":{"id":"14054","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"14061","type":"VBar"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"13950","type":"WheelZoomTool"},{"id":"13951","type":"BoxZoomTool"},{"id":"13952","type":"ResetTool"},{"id":"13953","type":"SaveTool"},{"id":"13974","type":"HoverTool"}]},"id":"13954","type":"Toolbar"},{"attributes":{"overlay":{"id":"14146","type":"BoxAnnotation"}},"id":"14001","type":"BoxZoomTool"},{"attributes":{"data_source":{"id":"13929","type":"ColumnDataSource"},"glyph":{"id":"13970","type":"VBar"},"hover_glyph":null,"muted_glyph":null,"name":"dispnewconf","nonselection_glyph":{"id":"13971","type":"VBar"},"selection_glyph":null,"view":{"id":"13973","type":"CDSView"}},"id":"13972","type":"GlyphRenderer"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"14000","type":"WheelZoomTool"},{"id":"14001","type":"BoxZoomTool"},{"id":"14002","type":"ResetTool"},{"id":"14003","type":"SaveTool"},{"id":"14015","type":"HoverTool"}]},"id":"14004","type":"Toolbar"},{"attributes":{"data_source":{"id":"14020","type":"ColumnDataSource"},"glyph":{"id":"14061","type":"VBar"},"hover_glyph":null,"muted_glyph":null,"name":"dispnewrec","nonselection_glyph":{"id":"14062","type":"VBar"},"selection_glyph":null,"view":{"id":"14064","type":"CDSView"}},"id":"14063","type":"GlyphRenderer"},{"attributes":{"fields":[]},"id":"13960","type":"Stack"},{"attributes":{"args":{"source":{"id":"13979","type":"ColumnDataSource"},"x_range":{"id":"13983","type":"FactorRange"}},"code":"\nvar stdate= new Date(2020,0,30);\nvar d1=(cb_obj.value[0]-stdate)/86400000;\nvar d2=(cb_obj.value[1]-stdate)/86400000;\nx_range.setv({\"start\":0,\"end\":d2-d1+1});\nd1=Math.floor(d1);\nd2=Math.floor(d2);\nsource.data['dispcumact']=source.data[\"cumact\"].slice(d1,d2+2);\nsource.data['dispdates']=source.data[\"dates\"].slice(d1,d2+2);\nsource.change.emit();\n"},"id":"14009","type":"CustomJS"},{"attributes":{"fields":["dispoldrec"]},"id":"14053","type":"Stack"},{"attributes":{"callback":null,"tooltips":[["Date","@dispdates"],["Total","@dispcumact"]]},"id":"14015","type":"HoverTool"},{"attributes":{"dimension":1,"grid_line_color":null,"ticker":{"id":"13946","type":"BasicTicker"}},"id":"13949","type":"Grid"},{"attributes":{"bottom":{"expr":{"id":"14051","type":"Stack"}},"fill_color":{"value":"rgba(50, 205, 50, 0.5)"},"line_color":{"value":"rgba(50, 205, 50, 0.5)"},"top":{"expr":{"id":"14052","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"14056","type":"VBar"},{"attributes":{"text":"Recovered"},"id":"14022","type":"Title"},{"attributes":{"source":{"id":"14020","type":"ColumnDataSource"}},"id":"14059","type":"CDSView"},{"attributes":{"fields":["dispoldrec","dispnewrec"]},"id":"14054","type":"Stack"},{"attributes":{"text":"Deceased"},"id":"14072","type":"Title"},{"attributes":{"args":{"source":{"id":"13929","type":"ColumnDataSource"},"x_range":{"id":"13933","type":"FactorRange"}},"code":"\nvar stdate= new Date(2020,0,30);\nvar d1=(cb_obj.value[0]-stdate)/86400000;\nvar d2=(cb_obj.value[1]-stdate)/86400000;\nx_range.setv({\"start\":0,\"end\":d2-d1+1});\nd1=Math.floor(d1);\nd2=Math.floor(d2);\nsource.data['dispoldconf']=source.data[\"oldconf\"].slice(d1,d2+2);\nsource.data['dispnewconf']=source.data[\"newconf\"].slice(d1,d2+2);\nsource.data['dispcumconf']=source.data[\"cumconf\"].slice(d1,d2+2);\nsource.data['dispdates']=source.data[\"dates\"].slice(d1,d2+2);\nsource.change.emit();\n"},"id":"13959","type":"CustomJS"},{"attributes":{"bottom":{"expr":{"id":"14051","type":"Stack"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"expr":{"id":"14052","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"14057","type":"VBar"},{"attributes":{"data_source":{"id":"14020","type":"ColumnDataSource"},"glyph":{"id":"14056","type":"VBar"},"hover_glyph":null,"muted_glyph":null,"name":"dispoldrec","nonselection_glyph":{"id":"14057","type":"VBar"},"selection_glyph":null,"view":{"id":"14059","type":"CDSView"}},"id":"14058","type":"GlyphRenderer"},{"attributes":{"grid_line_color":null,"ticker":{"id":"13942","type":"CategoricalTicker"}},"id":"13944","type":"Grid"},{"attributes":{"bottom":{"expr":{"id":"13962","type":"Stack"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"expr":{"id":"13963","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"13971","type":"VBar"},{"attributes":{"children":[{"id":"14067","type":"DateRangeSlider"}]},"id":"14068","type":"Row"},{"attributes":{},"id":"14080","type":"LinearScale"},{"attributes":{},"id":"14000","type":"WheelZoomTool"},{"attributes":{"callback":null,"callback_policy":"mouseup","end":{{ end }},"js_property_callbacks":{"change:value":[{"id":"14050","type":"CustomJS"}]},"start":1580342400000.0,"title":"Date","tooltips":false,"value":[1580342400000.0,{{ end }}],"width":300},"id":"14067","type":"DateRangeSlider"},{"attributes":{},"id":"13939","type":"LinearScale"},{"attributes":{"formatter":{"id":"14125","type":"CategoricalTickFormatter"},"major_label_text_font_size":{"value":"0pt"},"major_tick_line_color":{"value":null},"minor_tick_line_color":{"value":null},"ticker":{"id":"13942","type":"CategoricalTicker"}},"id":"13941","type":"CategoricalAxis"},{"attributes":{"formatter":{"id":"14137","type":"CategoricalTickFormatter"},"major_label_text_font_size":{"value":"0pt"},"major_tick_line_color":{"value":null},"minor_tick_line_color":{"value":null},"ticker":{"id":"14083","type":"CategoricalTicker"}},"id":"14082","type":"CategoricalAxis"},{"attributes":{},"id":"14002","type":"ResetTool"},{"attributes":{},"id":"13996","type":"BasicTicker"},{"attributes":{"callback":null,"factors":{{ plotdict['Total'][11] }}},"id":"13933","type":"FactorRange"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"14041","type":"WheelZoomTool"},{"id":"14042","type":"BoxZoomTool"},{"id":"14043","type":"ResetTool"},{"id":"14044","type":"SaveTool"},{"id":"14065","type":"HoverTool"}]},"id":"14045","type":"Toolbar"},{"attributes":{"callback":null,"factors":{{ plotdict['Total'][11] }}},"id":"14074","type":"FactorRange"},{"attributes":{},"id":"14083","type":"CategoricalTicker"},{"attributes":{"bottom":{"expr":{"id":"14103","type":"Stack"}},"fill_color":{"value":"rgb(77, 75, 75)"},"line_color":{"value":"rgb(77, 75, 75)"},"top":{"expr":{"id":"14104","type":"Stack"}},"width":{"value":0.4},"x":{"field":"x"}},"id":"14111","type":"VBar"},{"attributes":{},"id":"13950","type":"WheelZoomTool"},{"attributes":{"grid_line_color":null,"ticker":{"id":"14083","type":"CategoricalTicker"}},"id":"14085","type":"Grid"}],"root_ids":["14120"]},"title":"Bokeh Application","version":"1.4.0"}}
        </script>
        <!--script type="text/javascript">
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  var docs_json = document.getElementById('14473').textContent;
                  var render_items = [{"docid":"e6966378-2024-4dd6-ac89-dc9156ead24c","roots":{"14120":"2657d1c2-7221-458f-908f-f6bc367374f7"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script-->
    </div>

{% endblock content %}